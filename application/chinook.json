{
    "title": "Chinook",
    "desc": "Chinook sample database",
    "menu_orientation": "vertical",
    "tables": {
        "artists": {
            "basename": "./data/chinook.sqlite",
            "key": "ArtistId",
            "elements": {
                "ArtistId": {
                    "label_long": "ID",
                    "label_short": "ID",
                    "type": "counter",
                    "hide": true
                },
                "Name": {
                    "label_long": "Name",
                    "label_short": "Name",
                    "type": "text",
                    "searchable": true,
                    "sortable": true,
                    "col_width": 250,
                    "required": true
                },
                "_valbums": {
                    "label_long": "Albums",
                    "label_short": "Albums",
                    "type": "view",
                    "height": 300,
                    "params": {
                        "table": "albums",
                        "view": "valbums"
                    },
                    "args": {
                        "ArtistId": "{ArtistId}"
                    }
                }
            },
            "views": {
                "vall": {
                    "title": "Artists",
                    "form_add": "fadd",
                    "form_edit": "fedit",
                    "deletable": true,
                    "elements": {
                        "ArtistId": {},
                        "Name": {}
                    },
                    "order_by": "Name"
                }
            },
            "forms": {
                "fadd": {
                    "title": "Add an artist",
                    "elements": {
                        "ArtistId": {},
                        "Name": {}
                    }
                },
                "fedit": {
                    "title": "Artist",
                    "elements": {
                        "ArtistId": {},
                        "Name": {},
                        "_valbums": {}
                    }
                }
            }
        },
        "albums": {
            "basename": "./data/chinook.sqlite",
            "key": "AlbumId",
            "elements": {
                "AlbumId": {
                    "label_long": "ID",
                    "label_short": "ID",
                    "type": "counter",
                    "hide": true
                },
                "Title": {
                    "label_long": "Album",
                    "label_short": "Album",
                    "type": "text",
                    "searchable": true,
                    "sortable": true,
                    "col_width": 250,
                    "required": true
                },
                "ArtistId": {
                    "label_long": "Artist",
                    "label_short": "Artist",
                    "type": "jointure",
                    "params": {
                        "join": "LEFT OUTER JOIN artists on artists.ArtistId = albums.ArtistId",
                        "column": "Name"
                    },
                    "searchable": true,
                    "sortable": true,
                    "col_width": 250
                },
                "_vtracks": {
                    "label_long": "Tracks",
                    "label_short": "Tracks",
                    "type": "view",
                    "height": 300,
                    "params": {
                        "table": "tracks",
                        "view": "vtracks"
                    },
                    "args": {
                        "AlbumId": "{AlbumId}"
                    }
                }
            },
            "views": {
                "vall": {
                    "title": "Albums",
                    "form_add": "fadd",
                    "form_edit": "fedit",
                    "deletable": true,
                    "elements": {
                        "ArtistId": {},
                        "AlbumId": {},
                        "Title": {}
                    },
                    "limit": 1000,
                    "order_by": "Artists.Name, Albums.Title"
                },
                "valbums": {
                    "title": "Albums",
                    "hide": true,
                    "form_add": "fadd",
                    "form_edit": "fedit",
                    "searchable": false,
                    "deletable": true,
                    "elements": {
                        "ArtistId": {
                            "hide": true
                        },
                        "AlbumId": {
                            "hide": true
                        },
                        "Title": {}
                    },
                    "sql_where": "1 = 1"
                }
            },
            "forms": {
                "fadd": {
                    "title": "Add an album",
                    "elements": {
                        "ArtistId": {},
                        "AlbumId": {},
                        "Title": {}
                    }
                },
                "fedit": {
                    "title": "Album",
                    "elements": {
                        "ArtistId": {},
                        "AlbumId": {},
                        "Title": {},
                        "_vtracks": {}
                    }
                }
            }
        },
        "media_types": {
            "basename": "./data/chinook.sqlite",
            "key": "MediaTypeId",
            "elements": {
                "MediaTypeId": {
                    "label_long": "ID",
                    "label_short": "ID",
                    "type": "counter",
                    "hide": true
                },
                "Name": {
                    "label_long": "Name",
                    "label_short": "Name",
                    "type": "text",
                    "required": true,
                    "searchable": true,
                    "sortable": true,
                    "col_width": 250
                }
            },
            "views": {
                "vall": {
                    "title": "Media Types",
                    "form_add": "fadd",
                    "form_edit": "fedit",
                    "deletable": true,
                    "elements": {
                        "MediaTypeId": {},
                        "Name": {"cell_editable": true}
                    }
                }
            },
            "forms": {
                "fadd": {
                    "title": "Add a media type",
                    "elements": {
                        "MediaTypeId": {},
                        "Name": {}
                    }
                },
                "fedit": {
                    "title": "Media Type",
                    "elements": {
                        "MediaTypeId": {},
                        "Name": {}
                    }
                }
            }
        },
        "genres": {
            "basename": "./data/chinook.sqlite",
            "key": "GenreId",
            "elements": {
                "GenreId": {
                    "label_long": "ID",
                    "label_short": "ID",
                    "type": "counter",
                    "hide": true
                },
                "Name": {
                    "label_long": "Name",
                    "label_short": "Name",
                    "type": "text",
                    "required": true
                }
            },
            "views": {
                "vall": {
                    "title": "Genre",
                    "form_add": "fadd",
                    "form_edit": "fedit",
                    "deletable": true,
                    "elements": {
                        "GenreId": {},
                        "Name": {}
                    }
                }
            },
            "forms": {
                "fadd": {
                    "title": "Add a genre",
                    "elements": {
                        "GenreId": {},
                        "Name": {}
                    }
                },
                "fedit": {
                    "title": "Genre",
                    "elements": {
                        "GenreId": {},
                        "Name": {}
                    }
                }
            }
        },
        "tracks": {
            "basename": "./data/chinook.sqlite",
            "key": "TrackId",
            "elements": {
                "TrackId": {
                    "label_long": "ID",
                    "label_short": "ID",
                    "type": "counter",
                    "hide": true
                },
                "Name": {
                    "label_long": "Name",
                    "label_short": "Name",
                    "type": "text",
                    "required": true,
                    "searchable": true
                },
                "AlbumId": {
                    "label_long": "Album",
                    "label_short": "Album",
                    "type": "jointure",
                    "params": {
                        "join": "LEFT OUTER JOIN albums on albums.AlbumId = tracks.AlbumId",
                        "column": "albums.Title"
                    },
                    "required": true,
                    "searchable": true
                },
                "MediaTypeId": {
                    "label_long": "Type media",
                    "label_short": "Type media",
                    "type": "combo",
                    "params": {
                        "table": "media_types",
                        "key": "MediaTypeId",
                        "display": "Name"
                    }
                },
                "GenreId": {
                    "label_long": "Genre",
                    "label_short": "Genre",
                    "type": "combo",
                    "params": {
                        "table": "genres",
                        "key": "GenreId",
                        "display": "Name"
                    }
                },
                "Composer": {
                    "label_long": "Composer",
                    "label_short": "Composer",
                    "type": "text",
                    "searchable": true
                },
                "Milliseconds": {
                    "label_long": "Duration",
                    "label_short": "Duration",
                    "type": "int"
                },
                "_Milliseconds": {
                    "label_long": "Duration",
                    "label_short": "Duration",
                    "type": "jointure",
                    "params": {
                        "column": "(tracks.Milliseconds/1000/60) || ' mn ' || (tracks.Milliseconds/1000%60) || ' s'"
                    },
                    "col_align": "right"
                },
                "Bytes": {
                    "label_long": "Size",
                    "label_short": "Size",
                    "type": "int"
                },
                "_Bytes": {
                    "label_long": "Size",
                    "label_short": "Size",
                    "type": "jointure",
                    "params": {
                        "column": "tracks.Bytes/1000/1000"
                    },
                    "display": "%d M",
                    "col_align": "right"
                },
                "UnitPrice": {
                    "label_long": "Price",
                    "label_short": "Price",
                    "type": "float",
                    "display": "%3.2f €"
                },
                "_ArtistId": {
                    "label_long": "Artist",
                    "label_short": "Artist",
                    "type": "jointure",
                    "params": {
                        "join": "LEFT OUTER JOIN albums as alb ON alb.AlbumId = tracks.AlbumId LEFT OUTER JOIN artists on artists.ArtistId = alb.ArtistId",
                        "column": "artists.Name"
                    }
                }
            },
            "views": {
                "vall": {
                    "title": "Tracks",
                    "form_add": "fadd",
                    "form_edit": "fedit",
                    "deletable": true,
                    "elements": {
                        "TrackId": {},
                        "_ArtistId": {},
                        "AlbumId": {},
                        "Name": {},
                        "Composer": {}
                    },
                    "order_by": "artists.Name, albums.Title"
                },
                "vtracks": {
                    "title": "Tracks",
                    "form_add": "fadd",
                    "form_edit": "fedit",
                    "deletable": true,
                    "hide": "true",
                    "elements": {
                        "TrackId": {},
                        "Name": {},
                        "GenreId": {},
                        "_Milliseconds": {},
                        "_Bytes": {}
                    }
                }
            },
            "forms": {
                "fadd": {
                    "title": "Add a track",
                    "elements": {
                        "AlbumId": {},
                        "TrackId": {},
                        "Name": {},
                        "MediaTypeId": {},
                        "GenreId": {},
                        "Composer": {},
                        "Milliseconds": {},
                        "Bytes": {},
                        "UnitPrice": {}
                    }
                },
                "fedit": {
                    "title": "Track",
                    "elements": {
                        "_ArtistId": {"read_only": true},
                        "AlbumId": {"read_only": true},
                        "TrackId": {},
                        "Name": {},
                        "MediaTypeId": {},
                        "GenreId": {},
                        "Composer": {},
                        "Milliseconds": {},
                        "Bytes": {},
                        "UnitPrice": {"read_only": true}
                    }
                }
            }
        }
    }
}